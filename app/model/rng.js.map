{"version":3,"sources":["rng.es6"],"names":[],"mappings":";;;;;;;;;;;AAIA,MAAI,EAAE,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC;;MAErB,GAAG;AACI,aADP,GAAG,CACK,MAAM,EAAE;4BADhB,GAAG;;AAEL,UAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACrB,UAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC7D;;iBAJG,GAAG;;aAMC,kBAAC,MAAM,EAAE;AACf,YAAI,EAAE,GAAI;AACR,eAAK,EAAE,qCAAqC;SAC7C,CAAC;AACF,eAAO,EAAE,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;OAC3B;;;aAEG,gBAAG;AACL,eAAO,IAAI,CAAC,IAAI,CAAC,qCAAmC,EAAE,IAAI,CAAC,MAAM,EAAE,WAAW,CAAC,uBAAuB,CAAC,CAAC,eAAe,CAAC;OACzH;;;aAEG,cAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;AACrB,eAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;OACpE;;;WAnBG,GAAG;;;AAsBT,WAAS,IAAI,CAAC,QAAQ,EAAE;;AAEtB,QAAI,GAAG,GAAG,AAAC,IAAI,SAAS,EAAE,CAAE,eAAe,CAAC,EAAE,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,UAAU,CAAC,CAAC;AACnF,WAAO,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;GACrB;;mBAEc;AACb,OAAG,EAAE,GAAG;AACR,QAAI,EAAE,IAAI;GACX","file":"rng.js","sourcesContent":["/**\n * Created by yarden on 6/20/15.\n */\n\nvar fs = requireNode('fs');\n\nclass RNG {\n  constructor(schema) {\n    this.schema = schema;\n    this.nsResolver = this.schema.createNSResolver(this.schema);\n  }\n\n  resolver(prefix) {\n    var ns =  {\n      'rng': \"http://relaxng.org/ns/structure/1.0\"\n    };\n    return ns[prefix] || null;\n  }\n\n  root() {\n    return this.find(\"//rng:element[@name='simulation']\", this.schema, XPathResult.FIRST_ORDERED_NODE_TYPE).singleNodeValue;\n  }\n\n  find(expr, node, type) {\n    return this.schema.evaluate(expr, node, this.resolver, type, null);\n  }\n}\n\nfunction load(filename) {\n  // TODO: DOMParser does not throw exception upon error, rather it return a error document\n  var dom = (new DOMParser()).parseFromString(fs.readFileSync(filename), \"text/xml\");\n  return new RNG(dom);\n}\n\nexport default {\n  RNG: RNG,\n  load: load\n}"]}